<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>dependencies (stanc.dependencies)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="index.html">Up</a> â€“ <a href="index.html">stanc</a> &#x00BB; dependencies</nav><h1 id="dependencies"><a href="#dependencies" class="anchor"></a>Dependencies</h1><p>Stanc3 is programmed in <a href="https://ocaml.org/">OCaml</a> and built with <a href="https://github.com/ocaml/dune">dune</a>.</p><nav class="toc"><ul><li><a href="#build">Build Dependencies</a></li><li><a href="#dev">Development Dependencies</a></li><li><a href="#xcomp">Cross Compilation for Windows</a></li></ul></nav></header><h2 id="build"><a href="#build" class="anchor"></a>Build Dependencies</h2><p>We rely on the following packages. Note that because of the requirements for <a href="dependencies.html#xcomp"><span>Cross Compilation for Windows</span></a>, these versions are exactly pinned.</p><p>These are automatically installed through the <code>scripts/install_ocaml.sh</code> and <code>scripts/install_build_deps.sh</code> scripts provided in the stanc3 repository.</p><ul><li>OCaml 4.12.0</li><li>Dune 2.8+</li><li><a href="https://ocaml.janestreet.com/ocaml-core/latest/doc/core_kernel/Core_kernel/index.html">Core_kernel</a> v0.14.2 (a standard library replacement)</li><li><a href="http://gallium.inria.fr/~fpottier/menhir/manual.html">Menhir</a> 20210929 (a parser generator and parsing library)</li><li><a href="https://github.com/ocaml-ppx/ppx_deriving">ppx_deriving</a> 5.2.1 (a tool for generating boilerplate code)</li><li><a href="https://erratique.ch/software/fmt">fmt</a> 0.8.5 (a tool for pretty-printing of formatted text)</li></ul><p>For the JavaScript interface to stanc3 we also use the following, installed via <code>scripts/install_js_deps.sh</code></p><ul><li>js_of_ocaml-ppx 3.11.0</li><li>yojson 1.7.0</li></ul><p>The <code>stancjs</code> executable can be built with</p><p><code>dune build src/stancjs</code></p><h2 id="dev"><a href="#dev" class="anchor"></a>Development Dependencies</h2><p>There are several packages which are useful for development but not required for building stanc3. These can be installed with <code>scripts/install_dev_deps.sh</code>, or (alongside the above build requirements) with <code>scripts/setup_dev_env.sh</code>. Versioning of these dependencies is less strict, though some (like ocamlformat) are used to ensure a standard format across developers and must use the same version.</p><ul><li>ocamlformat 0.19</li><li>merlin 4.3.1</li><li>ocaml-lsp-server 1.8.3</li><li>utop</li><li>ocp-indent</li><li>patdiff</li></ul><h2 id="xcomp"><a href="#xcomp" class="anchor"></a>Cross Compilation for Windows</h2><p>To support Windows binaries, we use versions of OCaml and all our dependencies which are available on <a href="https://github.com/ocaml-cross/opam-cross-windows">opam-cross-windows</a>. This allows us to build Windows-compatible versions <em>on non-Windows machines</em>.</p><p>For more information on cross-compilation, see the <a href="https://dune.readthedocs.io/en/stable/cross-compilation.html">dune docs</a>.</p><p>To build Windows binaries, the above build requirements must have their <code>opam-cross-windows</code> equivalents installed. This can be done by executing <code>scripts/install_build_deps_windows.sh</code>.</p><p>Then, the command</p><p><code>dune build -x windows</code></p><p>will build a Windows binary.</p></div></body></html>